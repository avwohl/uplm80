/*
 * TEST CONSTANT PROPAGATION
 */

TEST: DO;

MON1: PROCEDURE(FUNC, PARM) EXTERNAL;
    DECLARE FUNC BYTE, PARM ADDRESS;
END MON1;

/* PRINT SINGLE CHARACTER */
PRINT$CHAR: PROCEDURE(C);
    DECLARE C BYTE;
    CALL MON1(2, C);
END PRINT$CHAR;

/* TEST WITH CONSTANT VARIABLE */
NEWLINE: PROCEDURE;
    DECLARE ONE BYTE;
    ONE = 1;
    /* ONE should be propagated as constant 1 */
    CALL PRINT$CHAR(10 + ONE);
END NEWLINE;

CALL NEWLINE;

END TEST;
EOF
